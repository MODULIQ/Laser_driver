Version 4
SHEET 1 880 1064
WIRE -96 -192 -160 -192
WIRE 16 -192 -16 -192
WIRE 16 -64 16 -192
WIRE 16 -64 -32 -64
WIRE 48 -64 16 -64
WIRE 176 -64 128 -64
WIRE 224 -64 192 -64
WIRE 464 -64 464 -96
WIRE 464 -64 224 -64
WIRE -160 -48 -160 -192
WIRE -160 -48 -768 -48
WIRE -96 -48 -160 -48
WIRE 464 -48 464 -64
WIRE -16 -32 -32 -32
WIRE 192 -32 192 -64
WIRE 192 -32 160 -32
WIRE -304 32 -336 32
WIRE -144 32 -224 32
WIRE -64 32 -64 -16
WIRE -16 32 -16 -32
WIRE 48 32 -16 32
WIRE 160 32 160 -32
WIRE 160 32 128 32
WIRE 176 32 176 -64
WIRE 224 32 224 16
WIRE 224 32 176 32
WIRE -16 48 -16 32
WIRE 464 64 464 32
WIRE 576 64 464 64
WIRE 464 112 464 64
WIRE 576 128 576 64
WIRE -336 176 -336 32
WIRE -336 176 -496 176
WIRE -304 176 -336 176
WIRE 224 176 224 32
WIRE -144 192 -144 32
WIRE -144 192 -240 192
WIRE 48 192 -144 192
WIRE 176 192 48 192
WIRE -304 208 -336 208
WIRE 464 272 464 192
WIRE 224 304 224 272
WIRE -336 384 -336 208
WIRE -336 384 -400 384
WIRE 224 416 224 368
WIRE -592 608 -592 544
WIRE -592 736 -592 688
WIRE -592 896 -592 832
WIRE -592 1024 -592 976
FLAG 224 416 0
FLAG 576 128 0
FLAG 464 -96 V+
FLAG 464 272 V-
FLAG -592 736 0
FLAG -64 32 V-
FLAG -64 -80 V+
FLAG -768 -48 Iout
FLAG -16 128 0
FLAG -272 224 V-
FLAG -272 160 V+
FLAG 48 192 Vg
FLAG -592 544 Vctrl
FLAG -400 384 Iout
FLAG -592 1024 0
FLAG -592 832 Vctrl_DC
FLAG -496 176 Vctrl
SYMBOL pmos 176 272 M180
SYMATTR InstName M1
SYMATTR Value AO3423
SYMBOL voltage 464 -64 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 15
SYMBOL voltage 464 96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 15
SYMBOL voltage -592 592 R0
WINDOW 3 24 44 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 0.1 0 10u 10u 0 20u)
SYMATTR InstName V3
SYMBOL res 208 -80 R0
SYMATTR InstName R3
SYMATTR Value 10
SYMBOL res 0 -208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 1k
SYMBOL res 144 -80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL res 144 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 10k
SYMBOL res -32 32 R0
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL res -208 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 10k
SYMBOL LED 208 304 R0
SYMATTR InstName D1
SYMATTR Value NSSWS108T
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL voltage -592 880 R0
WINDOW 3 24 44 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value 0.5
SYMATTR InstName V4
SYMBOL OpAmps\\OP113 -272 128 R0
SYMATTR InstName U2
SYMBOL OpAmps\\OP113 -64 -112 M0
SYMATTR InstName U1
TEXT -464 1048 Left 2 !.tran 400u
